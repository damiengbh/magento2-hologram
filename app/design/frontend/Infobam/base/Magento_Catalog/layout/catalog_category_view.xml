<?xml version="1.0"?>
<!--
/**
 * @license All rights reserved
 * @author Maxime Huran <m.huran@monsieurbiz.com> <@MaximeHuran>
 * @copyright Copyright (c) 2017 Monsieur Biz (https://monsieurbiz.com/)
 */
-->
<page xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" layout="1column" xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd">
    <body>
        <!-- Add body class -->
        <reference name="root">
            <action method="addBodyClass">
                <classname>catalog</classname>
            </action>
        </reference>

        <!-- Move breadcrumbs -->
        <move element="breadcrumbs" destination="columns.top" before="page.main.title" />

        <!-- Move current vehicle block -->
        <move element="vehicle.current" destination="columns.top" before="breadcrumbs" />

        <!-- Remove catalog filters -->
        <referenceBlock name="catalog.leftnav" remove="true" />

        <!-- Update category view container class -->
        <referenceContainer name="category.view.container" htmlTag="div" htmlClass="container" />

        <!-- Add custom block with price, availability and add to cart -->
        <referenceBlock name="category.products.list">
            <block class="Rapidoto\Catalog\Block\Catalog\Product\Actions" name="product.actions" as="product.actions" template="Magento_Catalog::product/actions.phtml" />
        </referenceBlock>

        <!-- Modal to identify vehicle on add to cart -->
        <referenceBlock name="content">
            <block class="Magento\Framework\View\Element\Template" name="modal.identification" template="Magento_Catalog::identification.phtml" after="-">
                <block class="Rapidoto\Catalog\Block\VehicleIdentification" name="modal.vehicle.identification" template="vehicle_identification.phtml">
                    <arguments>
                        <argument name="action" xsi:type="string">rapidoto_catalog/vehicleIdentification</argument>
                    </arguments>
                </block>
            </block>
        </referenceBlock>
    </body>
</page>
